(function(){const s=document.createElement("link").relList;if(s&&s.supports&&s.supports("modulepreload"))return;for(const e of document.querySelectorAll('link[rel="modulepreload"]'))d(e);new MutationObserver(e=>{for(const i of e)if(i.type==="childList")for(const u of i.addedNodes)u.tagName==="LINK"&&u.rel==="modulepreload"&&d(u)}).observe(document,{childList:!0,subtree:!0});function o(e){const i={};return e.integrity&&(i.integrity=e.integrity),e.referrerPolicy&&(i.referrerPolicy=e.referrerPolicy),e.crossOrigin==="use-credentials"?i.credentials="include":e.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function d(e){if(e.ep)return;e.ep=!0;const i=o(e);fetch(e.href,i)}})();const g="data:image/svg+xml,%3c?xml%20version='1.0'%20encoding='UTF-8'?%3e%3csvg%20xmlns='http://www.w3.org/2000/svg'%20xmlns:xlink='http://www.w3.org/1999/xlink'%20viewBox='0%200%2030%2030'%20width='30px'%20height='30px'%3e%3cg%20id='surface271152487'%3e%3cpath%20style='%20stroke:none;fill-rule:nonzero;fill:rgb(100%25,100%25,100%25);fill-opacity:1;'%20d='M%2013%203%20C%2012.734375%202.996094%2012.472656%203.101562%2012.285156%203.289062%20C%2012.09375%203.476562%2011.988281%203.730469%2011.984375%204%20L%206%204%20C%205.640625%203.996094%205.304688%204.183594%205.121094%204.496094%20C%204.941406%204.808594%204.941406%205.191406%205.121094%205.503906%20C%205.304688%205.816406%205.640625%206.003906%206%206%20L%2024%206%20C%2024.359375%206.003906%2024.695312%205.816406%2024.878906%205.503906%20C%2025.058594%205.191406%2025.058594%204.808594%2024.878906%204.496094%20C%2024.695312%204.183594%2024.359375%203.996094%2024%204%20L%2018.015625%204%20C%2018.011719%203.730469%2017.90625%203.476562%2017.714844%203.289062%20C%2017.527344%203.101562%2017.265625%202.996094%2017%203%20Z%20M%206%208%20L%206%2024%20C%206%2025.105469%206.894531%2026%208%2026%20L%2022%2026%20C%2023.105469%2026%2024%2025.105469%2024%2024%20L%2024%208%20Z%20M%206%208%20'/%3e%3c/g%3e%3c/svg%3e",c=document.querySelector(".todo__input"),a=document.querySelector(".todo__btn"),h=document.querySelector(".todo__input-field"),p=document.querySelector(".todo__list-plug"),l=document.querySelector(".todo__list"),L=document.querySelector(".todo__delete-btn"),k=document.querySelector(".todo__tracker"),r=document.createElement("p");//!BAGS: при создании новой задачи все старые теряют статус checked ( сделать так, чтобы при завершении задачи эта же задача в массиве todoList меняла статус checked )
//!TODO: переписать код так, чтобы при статусе checked менялось количество активных задач
//!TODO: создать модальное окно для предупреждения, при удалении всего списка задач
const n=[],f=()=>{const t=n.length;k.innerHTML=`You have ${t} active task(s)`},v=()=>{let t="";n.forEach((s,o)=>{t+=`
            <li class="todo__item" id="${o}">
                <label>
                    <input type="checkbox" class="input-checkbox" id="${o}"></input>
                    <p class="text">${s.text}</p><span data-action="delete"><img data-action="delete" src=${g} alt="delete"></span>
                </label>
            </li>
        `,l.innerHTML=t,c.value="",f()})},y=()=>{r.classList.add("warning"),r.innerHTML="This field cannot be empty",h.appendChild(r),r.style.removeProperty("animation"),a.style.opacity="0.5",c.style.border="1px solid #ed3511"},m=()=>{if(c.value!=""){const t={text:c.value,checked:!1,id:n.length};n.push(t),v(),a.style.opacity="0.5",p.style="display: none"}else y(),r.style.removeProperty("animation")},b=t=>{if(t.target.type!=="checkbox")return 0;const s=t.target.closest(".todo__item");s.classList.toggle("checked");for(let o=0;o<n.length;o++)n[o].id==s.id&&(n[o].checked===!1?n[o].checked=!0:n[o].checked=!1)},x=t=>{if(t.target.dataset.action!=="delete")return 0;const s=t.target.closest(".todo__item"),o=Number(s.id),d=n.findIndex(e=>e.id===o);s.style.animation="0.5s fade-out forwards",n.splice(d,1),s.remove(),f(),n.length==0&&(p.style="display: block")};c.oninput=()=>{c.value==""?y():(a.style.opacity="1",c.style.border="1px solid rgba(0, 0, 0, 0.075)",r.style.animation="1s fade-out forwards")};const _=t=>t.keyCode===13?m():null;L.addEventListener("click",function(){l.style.animation="1s fade-out forwards",setTimeout(()=>{l.innerHTML="",n.length=0,f(),p.style="display: block"},500),l.removeAttribute("style")});a.addEventListener("click",m);l.addEventListener("click",x);l.addEventListener("click",b);c.addEventListener("keydown",_);
