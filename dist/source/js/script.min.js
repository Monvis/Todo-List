let message=document.querySelector(".todo__input"),addBtn=document.querySelector(".todo__btn"),inputField=document.querySelector(".todo__input-field"),plugText=document.querySelector(".todo__list-plug"),todo=document.querySelector(".todo__list"),checkbox=document.querySelector(".input-checkbox"),deleteList=document.querySelector(".todo__delete-btn"),tracker=document.querySelector(".todo__tracker"),warning=document.createElement("p");addBtn.addEventListener("click",createTask),todo.addEventListener("click",deleteTask);let todoList=[];function createTask(){if(""!=message.value){let e={text:message.value,checked:!1};todoList.push(e),displayMessages(),addBtn.style.opacity="0.5",plugText.style="display: none"}else emptyInputField(),warning.style.removeProperty("animation")}function displayMessages(){let e="";todoList.forEach((t,n)=>{e+=`\n\n            <li class="todo__item" id="${n}">\n                <input type="checkbox" class="input-checkbox" id="item__${n}"></input>\n                <label for="item__${n}" id="item__${n}"><p>${t.text}</p><span data-action="delete"><img data-action="delete" src="img/bin.svg" alt=""></span></label>\n            </li>\n        `,todo.innerHTML=e,message.value="",taskTracker()})}function taskTracker(){counter=todoList.length,innerText=`You have ${counter} active task(s)`,tracker.innerHTML=innerText}function deleteTask(e){if("delete"!==e.target.dataset.action)return;const t=e.target.closest(".todo__item"),n=Number(t.id),o=todoList.findIndex(e=>e.id===n);todoList.splice(o,1),t.remove(),taskTracker(),0==todoList.length&&(plugText.style="display: block")}function emptyInputField(){warning.classList.add("warning"),warning.innerHTML="This field cannot be empty",inputField.appendChild(warning),warning.style.removeProperty("animation"),addBtn.style.opacity="0.5",message.style.border="1px solid #ed3511"}message.oninput=function(){""==message.value?emptyInputField():(addBtn.style.opacity="1",message.style.border="1px solid rgba(0, 0, 0, 0.075)",warning.style.animation="1s dysplayNone forwards")},message.addEventListener("keydown",(function(e){13===e.keyCode&&createTask()})),deleteList.addEventListener("click",(function(){todo.innerHTML="",todoList.length=0,taskTracker(),plugText.style="display: block"}));